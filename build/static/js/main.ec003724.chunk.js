(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{42:function(e,t,a){e.exports=a(85)},47:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(11),i=a.n(o),r=(a(47),a(14)),l=a(4),s=(a(48),a(49),a(50),a(19)),m=a(15),u=a(7),v="GET_MOVIES",p="GET_MOVIE",f={};var E=Object(m.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(u.a)(Object(u.a)({},e),{},{movies:Object(u.a)(Object(u.a)({},e.movies),t.payload)});case p:return Object(u.a)(Object(u.a)({},e),{},{movie:Object(u.a)({},t.payload)});default:return Object(u.a)({},e)}}}),d=a(38),b="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,g=Object(m.e)(E,b(Object(m.a)(d.a))),O=a(88),h=a(20);var j=function(e){var t=e.item,a=e.movieDetailsHandler,n=e.isPosterVisible;return c.a.createElement("li",null,c.a.createElement("div",{className:"item-card"},n&&c.a.createElement("img",{alt:t.Title,src:t.Poster}),c.a.createElement("span",null,"Title: ",t.Title),!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,"Type: ",t.Type),c.a.createElement("button",{onClick:function(){return a(t)}},"View Details")),c.a.createElement("span",null,"Year: ",t.Year)))},y=a(16),w=a(41),M=a(13);var R=function(e){var t,a=Object(n.useState)(1),o=Object(h.a)(a,2),i=o[0],r=o[1],s=Object(l.g)(),m=Object(l.f)();Object(n.useEffect)((function(){Object(M.parse)(s.search).page&&r(Object(M.parse)(s.search).page)}),[]);var u=[],v=parseInt(e.totalResults);t=v%10===0?v/10:v/10+1;for(var p=1;p<=t;p++)u.push(p);return c.a.createElement("ul",{className:"pagination"},u.map((function(t){return c.a.createElement("li",{className:t===parseInt(i)?"active":""},c.a.createElement("button",{onClick:function(){return function(t){var a=Object(M.parse)(s.search);a.page=t,m.push(m.location.pathname+"?"+Object(M.stringify)(a)),e.getMovies(t),window.scrollTo(0,0),r(t)}(t)}},t))})))};var N=function(e){var t=Object(n.useState)(),a=Object(h.a)(t,2),o=a[0],i=a[1],r=Object(l.g)();function s(t){e.getMovie(t.imdbID),i(!0)}return Object(n.useEffect)((function(){e.getMovies(Object(M.parse)(r.search).page)}),[]),c.a.createElement("div",null,c.a.createElement("ul",{className:"products"},e.movies&&e.movies.map((function(e){return c.a.createElement(j,{key:e.imdbID,item:e,movieDetailsHandler:s})}))),e.totalResults&&c.a.createElement(R,{getMovies:e.getMovies,totalResults:e.totalResults}),c.a.createElement(y.a,{show:o,onHide:function(){return i(!o)}},c.a.createElement(y.a.Header,null,c.a.createElement(y.a.Title,null,"Description")),e.movie&&c.a.createElement(y.a.Body,null,c.a.createElement("span",null,e.movie.Title),c.a.createElement("span",null,e.movie.Year),e.movie.imdbRating&&"N/A"!==e.movie.imdbRating&&c.a.createElement("strong",null,"boxoffice: ",parseFloat(e.movie.imdbRating)>7&&"hit",parseFloat(e.movie.imdbRating)<=7&&"flop"),c.a.createElement("p",null,e.movie.Plot)),c.a.createElement(y.a.Footer,null,c.a.createElement(w.a,{variant:"secondary",onClick:function(){return i(!o)}},"Close"))))};var k=function(e){var t=Object(l.g)();return Object(n.useEffect)((function(){e.getMovies(Object(M.parse)(t.search).page)}),[]),c.a.createElement("div",null,c.a.createElement("ul",{className:"products"},e.movies&&e.movies.map((function(e){return c.a.createElement(j,{key:e.imdbID,item:e,isPosterVisible:!0})}))),e.totalResults&&c.a.createElement(R,{getMovies:e.getMovies,totalResults:e.totalResults}))};var I=function(e){var t=Object(l.h)().path;return c.a.createElement("div",{className:"home-content main-content"},c.a.createElement("div",{className:"top-sec"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"info"},"Movies List"))),c.a.createElement("div",{className:"container container-products"},c.a.createElement("div",{className:"content-sec"},c.a.createElement("ul",{className:"tabs"},c.a.createElement("li",null,c.a.createElement(r.b,{to:"".concat(t,"/movies-info")},"Movies With Info")),c.a.createElement("li",null,c.a.createElement(r.b,{to:"".concat(t,"/movies-poster")},"Movies With Poster"))),c.a.createElement(l.c,null,c.a.createElement(l.a,{path:t+"/movies-info"},c.a.createElement(N,e)),c.a.createElement(l.a,{path:"".concat(t,"/movies-poster")},c.a.createElement(k,e))))))},T=a(40),_={API_URL:"https://www.omdbapi.com",apikey:"f82e2f54"},P=a.n(T).a.create({baseURL:_.API_URL}),D=function(e){return{type:v,payload:e}},S=function(e){return{type:p,payload:e}},V=Object(s.b)((function(e){return{movies:Object(O.a)(["movies","movies","Search"],e),loading:Object(O.a)(["movies","movies","loading"],e),movie:Object(O.a)(["movies","movie"],e),totalResults:Object(O.a)(["movies","movies","totalResults"],e)}}),(function(e){return{getMovies:function(t){return e(function(e){return function(t){return e||(e=1),new Promise((function(a,n){t(D({loading:!0})),P({method:"get",url:"/?s=man&y=2000&apikey=".concat(_.apikey,"&page=").concat(e)}).then((function(e){t(D(Object(u.a)(Object(u.a)({},e.data),{},{loading:!1}))),a(e)})).catch((function(e){console.log(e),n()}))}))}}(t))},getMovie:function(t){return e(function(e){return function(t){return new Promise((function(a,n){t(S({loading:!0})),P({method:"get",url:"/?i=".concat(e,"&plot=full&apikey=f82e2f54")}).then((function(e){t(S(Object(u.a)(Object(u.a)({},e.data),{},{loading:!1}))),a(e)})).catch((function(e){console.log(e),n()}))}))}}(t))}}}))(I);var C=function(){return c.a.createElement(s.a,{store:g},c.a.createElement(r.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(l.c,null,c.a.createElement(l.a,{path:"/react-workshop-indegene"},c.a.createElement(V,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.ec003724.chunk.js.map